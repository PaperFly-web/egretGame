var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},__extends=function(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;i>n;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__rest=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},__decorate=function(e,t,n,i){var r,o=arguments.length,a=3>o?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(3>o?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},__param=function(e,t){return function(n,i){t(n,i,e)}},__metadata=function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},__awaiter=function(e,t,n,i){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(t){o(t)}}function s(e){try{c(i["throw"](e))}catch(t){o(t)}}function c(e){e.done?n(e.value):r(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())})},__generator=function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(a=2&n[0]?o["return"]:n[0]?o["throw"]||((a=o["return"])&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(i){n=[6,i],o=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},__exportStar=function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||__createBinding(t,e,n)},__createBinding=Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]},__values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return a},__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e},__spreadArrays=function(){for(var e=0,t=0,n=arguments.length;n>t;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;n>t;t++)for(var o=arguments[t],a=0,s=o.length;s>a;a++,r++)i[r]=o[a];return i},__await=function(e){return this instanceof __await?(this.v=e,this):new __await(e)},__asyncGenerator=function(e,t,n){function i(e){u[e]&&(l[e]=function(t){return new Promise(function(n,i){h.push([e,t,n,i])>1||r(e,t)})})}function r(e,t){try{o(u[e](t))}catch(n){c(h[0][3],n)}}function o(e){e.value instanceof __await?Promise.resolve(e.value.v).then(a,s):c(h[0][2],e)}function a(e){r("next",e)}function s(e){r("throw",e)}function c(e,t){e(t),h.shift(),h.length&&r(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,u=n.apply(e,t||[]),h=[];return l={},i("next"),i("throw"),i("return"),l[Symbol.asyncIterator]=function(){return this},l},__asyncDelegator=function(e){function t(t,r){n[t]=e[t]?function(n){return(i=!i)?{value:__await(e[t](n)),done:"return"===t}:r?r(n):n}:r}var n,i;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n},__asyncValues=function(e){function t(t){i[t]=e[t]&&function(i){return new Promise(function(r,o){i=e[t](i),n(r,o,i.done,i.value)})}}function n(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),i={},t("next"),t("throw"),t("return"),i[Symbol.asyncIterator]=function(){return this},i)},__makeTemplateObject=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&__createBinding(t,e,n);return __setModuleDefault(t,e),t},__importDefault=function(e){return e&&e.__esModule?e:{"default":e}},__classPrivateFieldGet=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},__reflect=function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n};!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){n(1),n(2),n(0),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14);var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadResource()];case 1:return t.sent(),this.createGameScene(),[4,platform.login()];case 2:return t.sent(),[4,platform.getUserInfo()];case 3:return e=t.sent(),console.log(e),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),e=new LoadingUI,[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return n.sent(),this.stage.addChild(e),[4,this.loadTheme()];case 2:return n.sent(),[4,RES.loadGroup("preload",0,e)];case 3:return n.sent(),this.stage.removeChild(e),[3,5];case 4:return t=n.sent(),console.error(t),[3,5];case 5:return[2]}})})},t.prototype.loadTheme=function(){var e=this;return new Promise(function(t,n){var i=new eui.Theme("resource/default.thm.json",e.stage);i.addEventListener(eui.UIEvent.COMPLETE,function(){t()},e)})},t.prototype.createGameScene=function(){SceneManager.Instance.rootLayer=this,SceneManager.Instance.changeScene(new StartScene)},t}(eui.UILayer);window.Main=i,__reflect(i.prototype,"Main",[])},function(e,t){var n=function(){function e(){}return e.prototype.getAsset=function(e,t,n){function i(i){t.call(n,i,e)}if(RES.hasRes(e)){var r=RES.getRes(e);r?i(r):RES.getResAsync(e,i,this)}else RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_IMAGE)},e}();window.AssetAdapter=n,__reflect(n.prototype,"AssetAdapter",["eui.IAssetAdapter"])},function(e,t){var n=function(e){function t(){var t=e.call(this)||this;return t.percent=new eui.Label,t.bar=new egret.Shape,t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.width=GameUtil.getStageWidth(),this.height=GameUtil.getStageHeight();var e=new egret.Shape;e.graphics.beginFill(2570278,1),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),this.addChild(e);var t=new eui.Image;t.source="loading_png",this.percent.textColor=16243601,this.percent.textAlign="center",this.percent.y=580,this.group=new eui.Group,this.addChild(this.group),this.group.layout=new eui.BasicLayout,this.group.width=400,this.group.height=300,this.group.x=GameUtil.getCenterW(400),this.group.y=GameUtil.getCenterH(300),this.group.addChild(t),this.group.addChild(this.bar),this.group.addChild(this.percent);var n=new eui.VerticalLayout;n.horizontalAlign=egret.HorizontalAlign.CENTER,this.group.layout=n},t.prototype.onProgress=function(e,t){var n=Math.round(e/t*100);this.percent.text=n+"%",this.bar.graphics.beginFill(5018746,1),this.bar.graphics.drawRect(50,250,3*n,12),this.bar.graphics.endFill()},t}(egret.Sprite);window.LoadingUI=n,__reflect(n.prototype,"LoadingUI",["RES.PromiseTaskReporter"])},function(e,t){var n=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();window.DebugPlatform=n,__reflect(n.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new n)},function(e,t){var n=function(){function e(){}return e.prototype.getTheme=function(e,t,n,i){function r(e){t.call(i,e)}function o(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),n.call(i))}var a=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(i,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,n){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(i,generateEUI2)},a)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var s=e.replace(".exml","_EUI.json");generateJSON.paths[e]?egret.callLater(function(){t.call(i,generateJSON.paths[e])},this):RES.getResByUrl(s,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){t.call(i,generateJSON.paths[e])},a)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(i,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(e,r,this,RES.ResourceItem.TYPE_TEXT)},e}();window.ThemeAdapter=n,__reflect(n.prototype,"ThemeAdapter",["eui.IThemeAdapter"])},function(e,t){var n=function(e){function t(t){var n=e.call(this)||this;return n.url=t,n.startLoad(),n}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return null==t.audioUtil&&(t.audioUtil=new t("resource/assets/bg.m4a")),t.audioUtil},enumerable:!1,configurable:!0}),t.prototype.startLoad=function(){this.audio=new egret.Sound,this.audio.addEventListener(egret.Event.COMPLETE,this.onLoadComplete,this),this.audio.load(this.url),console.log("加载完毕")},t.prototype.onLoadComplete=function(e){var t=e.target;this.channel=t.play(0,0)},t.prototype.play=function(){var e=this;null==this.channel?setTimeout(function(){e.channel.volume=1},1e3):this.channel.volume=1},t.prototype.close=function(){this.channel.volume=0},t}(egret.DisplayObjectContainer);window.AudioUtil=n,__reflect(n.prototype,"AudioUtil",[])},function(e,t){var n=function(){function e(){}return e.getStageHeight=function(){return egret.MainContext.instance.stage.stageHeight},e.getStageWidth=function(){return egret.MainContext.instance.stage.stageWidth},e.getCenterW=function(t){return(e.getStageWidth()-t)/2},e.getCenterH=function(t){return(e.getStageHeight()-t)/2},e.createBitmapByName=function(e){var t=new egret.Bitmap,n=RES.getRes(e);return t.texture=n,t},e.GetRandomNum=function(e,t){var n=t-e,i=Math.random();return e+Math.round(i*n)},e.GetRandomNums=function(e,t,n){for(var i,r=new Array,o=0;n>o;o++){do i=this.GetRandomNum(e,t);while(-1!=r.indexOf(i));r.push(i)}return r},e.save_key=function(e,t){var n=e,i=t;egret.localStorage.setItem(n,i)},e.get_key=function(e){var t=egret.localStorage.getItem(e);return t},e.del_key=function(e){return egret.localStorage.removeItem(e),!0},e}();window.GameUtil=n,__reflect(n.prototype,"GameUtil",[])},function(e,t){var n=function(){function e(){this.items=[],this.score=0}return Object.defineProperty(e,"Instance",{get:function(){return null==e.questionManager&&(e.questionManager=new e),e.questionManager},enumerable:!1,configurable:!0}),e.prototype.GetQuestion=function(){var e=RES.getRes("questions_json"),t=GameUtil.GetRandomNums(0,9,5);this.items=new Array;for(var n=0;5>n;n++)this.items.push(e[t[n]]),this.items[n].selected="";return this.items},e.prototype.GetScore=function(){return this.score},e.prototype.SetScore=function(e){this.score=e},e}();window.QuestionManager=n,__reflect(n.prototype,"QuestionManager",[])},function(e,t){var n=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return null==e.sceneManager&&(e.sceneManager=new e),e.sceneManager},enumerable:!1,configurable:!0}),e.prototype.changeScene=function(e){this.currentScene&&(this.rootLayer.removeChild(this.currentScene),this.currentScene=null),this.rootLayer.addChild(e),this.currentScene=e},e.prototype.pushScene=function(e){this.popScene(),this.pop_scene||(this.rootLayer.addChild(e),this.pop_scene=e)},e.prototype.popScene=function(){this.pop_scene&&(this.rootLayer.removeChild(this.pop_scene),this.pop_scene=null)},e}();window.SceneManager=n,__reflect(n.prototype,"SceneManager",[])},function(e,t){var n=function(){function e(){this.selected=""}return e}();window.QuestionItem=n,__reflect(n.prototype,"QuestionItem",[])},function(e,t){var n=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(eui.Component);window.Scene=n,__reflect(n.prototype,"Scene",[])},function(e,t){var n=function(e){function t(t){var n=e.call(this)||this;return n.addEventListener(egret.Event.ADDED_TO_STAGE,n.onAddToStage,n),n.skinName="resource/eui_skins/my_skins/EndSceneSkin.exml",n.endLabel.text=t,n.bg.width=GameUtil.getStageWidth(),n.bg.height=GameUtil.getStageHeight(),n.endLabel.x=GameUtil.getStageWidth()/2,n.topImg.x=GameUtil.getStageWidth()/2,n.endBtnMain.x=GameUtil.getStageWidth()/2,n}return __extends(t,e),t.prototype.onAddToStage=function(e){this.data=RES.getRes("end_json"),this.textture=RES.getRes("end_png");var t=new egret.MovieClipDataFactory(this.data,this.textture),n=new egret.MovieClip(t.generateMovieClipData("end"));this.addChild(n),n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,n.x=GameUtil.getStageWidth()/2,n.y=GameUtil.getStageHeight()/5,n.play(-1),n.frameRate=10},t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.init=function(){this.endBtnMain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEndBtnMainClick,this)},t.prototype.onEndBtnMainClick=function(e){SceneManager.Instance.changeScene(new StartScene)},t}(Scene);window.EndScene=n,__reflect(n.prototype,"EndScene",[])},function(e,t){var n=function(e){function t(){var t=e.call(this)||this;return t.skinName="resource/eui_skins/my_skins/MyPanelSkin.exml",t.bgImg.width=GameUtil.getStageWidth()/6*5,t.bgImg.anchorOffsetX=t.bgImg.width/2,t.bgRect.width=GameUtil.getStageWidth(),t.bgRect.height=GameUtil.getStageHeight(),t.labelPanel.x=GameUtil.getStageWidth()/2,t.btnPanelClose.x=GameUtil.getStageWidth()/2,t.bgImg.x=GameUtil.getStageWidth()/2,console.log(t.bgRect),t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.init=function(){console.log(null==this.btnPanelClose),this.btnPanelClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPanelCloseClick,this),this.labelPanel.text="\n每轮游戏共计五道题\n\n每题仅一个正确答案\n\n答题越多积分则越高\n\n尽可能利用有利因素\n        "},t.prototype.onPanelCloseClick=function(e){SceneManager.Instance.popScene()},t}(Scene);window.InfoScene=n,__reflect(n.prototype,"InfoScene",[])},function(e,t){var n=function(e){function t(){var t=e.call(this)||this;return t.index=0,t.correct=0,t.wrong=0,t.no=0,t.skinName="resource/eui_skins/my_skins/QuestionSkin.exml",t.btnNext.skinName="resource/eui_skins/my_skins/MyBtn.exml",t.btnPre.skinName="resource/eui_skins/my_skins/MyBtn.exml",t.btnMain.skinName="resource/eui_skins/my_skins/MyBtn2.exml",t.bg.width=GameUtil.getStageWidth(),t.bg.height=GameUtil.getStageHeight(),t.itemLabel.width=.8*GameUtil.getStageWidth(),t.itemLabel.anchorOffsetX=t.itemLabel.width/2,t.itemLabel.x=GameUtil.getStageWidth()/2,t.itemLabel.size=GameUtil.getStageWidth()/10/2*1.1,t.btnNext.x=GameUtil.getStageWidth()/4*3,t.btnPre.x=GameUtil.getStageWidth()/4,t.btnBgMusic.x=.9*GameUtil.getStageWidth(),t.btnSubmit.x=GameUtil.getStageWidth()/2,t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.init()},t.prototype.init=function(){var e=this;this.items=QuestionManager.Instance.GetQuestion(),console.log(this.items),this.showQuestion(),this.btnBgMusic.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMusicClick,this),this.btnPre.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPreClick,this),this.btnNext.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onNextClick,this),this.btnMain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMainClick,this),this.btnSubmit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSubmitClick,this),this.itemA.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){e.items[e.index].selected="A"},this),this.itemB.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){e.items[e.index].selected="B"},this),this.itemC.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){e.items[e.index].selected="C"},this),this.itemD.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){e.items[e.index].selected="D"},this)},t.prototype.showQuestion=function(){this.itemA.selected=!1,this.itemB.selected=!1,this.itemC.selected=!1,this.itemD.selected=!1,this.itemLabel.text=this.index+1+","+this.items[this.index].title,this.itemA.label=this.items[this.index].A,this.itemB.label=this.items[this.index].B,this.itemC.label=this.items[this.index].C,this.itemD.label=this.items[this.index].D,"A"==this.items[this.index].selected?this.itemA.selected=!0:"B"==this.items[this.index].selected?this.itemB.selected=!0:"C"==this.items[this.index].selected?this.itemC.selected=!0:"D"==this.items[this.index].selected&&(this.itemD.selected=!0)},t.prototype.onAddToStage=function(e){},t.prototype.onMusicClick=function(e){"musicPause_png"==this.btnBgMusic.source?(this.btnBgMusic.source="musicPlay_png",AudioUtil.Instance.play()):(this.btnBgMusic.source="musicPause_png",AudioUtil.Instance.close())},t.prototype.onPreClick=function(e){this.index>0&&this.index--,this.showQuestion(),this.setPreAndNextBtn()},t.prototype.onNextClick=function(e){this.index<this.items.length-1&&this.index++,this.showQuestion(),this.setPreAndNextBtn()},t.prototype.onMainClick=function(e){SceneManager.Instance.changeScene(new StartScene),AudioUtil.Instance.close()},t.prototype.onSubmitClick=function(e){AudioUtil.Instance.close(),this.correct=0,this.wrong=0,this.no=0;for(var t=0;t<this.items.length;t++)""==this.items[t].selected?this.no++:this.items[t].answer==this.items[t].selected?this.correct++:this.wrong++;console.log(this.correct,this.wrong,this.no);var n=GameUtil.get_key("score");n||(GameUtil.save_key("score","0"),n="0");var i="\n共计"+this.items.length+"道题\n\n答对"+this.correct+"道题\n\n答错"+this.wrong+"道题\n\n未答"+this.no+"道题\n\n历史最高,答对"+n+"道题";Number(n)<this.correct&&(n=this.correct+"",GameUtil.save_key("score",n)),SceneManager.Instance.changeScene(new EndScene(i))},t.prototype.setPreAndNextBtn=function(){0==this.index?this.btnPre.enabled=!1:this.btnPre.enabled=!0,this.index==this.items.length-1?(this.btnNext.enabled=!1,this.bg.source="dragon_png",this.btnSubmit.visible=!0):(this.btnNext.enabled=!0,this.bg.source="dragon_jpg",this.btnSubmit.visible=!1)},t}(eui.Component);window.QuestionScene=n,__reflect(n.prototype,"QuestionScene",["eui.UIComponent"])},function(e,t){var n=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.createGameScene(),this.runStartAnimation()},t.prototype.createGameScene=function(){var e=60;this.sky=GameUtil.createBitmapByName("dragon_jpg"),this.addChild(this.sky);var t=this.stage.stageWidth,n=this.stage.stageHeight;this.sky.width=t,this.sky.height=n,console.log("舞台宽度",t),console.log("舞台高度",n),this.topMask=new egret.Shape;var i=50;this.topMask.graphics.beginFill(2709296,1),this.topMask.graphics.drawCircle(t/2-e,100,i),this.topMask.graphics.endFill(),this.addChild(this.topMask),this.icon=GameUtil.createBitmapByName("dragon_ico_png"),this.addChild(this.icon),this.icon.width=.4*this.icon.width,this.icon.height=.4*this.icon.height,this.icon.x=t/2-this.icon.width/2-e,this.icon.y=50,this.colorLabel=new egret.TextField,this.colorLabel.bold=!0,this.colorLabel.textColor=2709296,this.colorLabel.width=t-172,this.colorLabel.textAlign="center",this.colorLabel.text="PaperFly",this.colorLabel.size=40,this.colorLabel.x=180,this.colorLabel.y=70,this.addChild(this.colorLabel),this.textfield=new egret.TextField,this.addChild(this.textfield),this.textfield.alpha=0,this.textfield.width=t-172,this.textfield.textAlign=egret.HorizontalAlign.CENTER,this.textfield.size=20,this.textfield.textColor=16777215,this.textfield.x=180,this.textfield.y=120,this.startBtn=new eui.Button,this.startBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnStartClick,this),this.startBtn.x=t/4,this.startBtn.y=500,this.startBtn.label="点击开始",this.addChild(this.startBtn),this.infoBtn=new eui.Button,this.infoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnInfoClick,this),this.infoBtn.x=t/3*1.8,this.infoBtn.y=500,this.infoBtn.label="游戏介绍",this.addChild(this.infoBtn)},t.prototype.runStartAnimation=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,RES.getResAsync("description_json")];case 1:return e=t.sent(),this.startAnimation(e),[2]}})})},t.prototype.startAnimation=function(e){var t=this,n=new egret.HtmlTextParser,i=e.map(function(e){return n.parse(e)}),r=this.textfield,o=-1,a=function(){o++,o>=i.length&&(o=0);var e=i[o];r.textFlow=e;var n=egret.Tween.get(r);n.to({alpha:1},200),n.wait(2e3),n.to({alpha:0},200),n.call(a,t)};a()},t.prototype.onBtnInfoClick=function(e){SceneManager.Instance.pushScene(new InfoScene)},t.prototype.onBtnStartClick=function(e){var t=new QuestionScene;SceneManager.Instance.changeScene(t),AudioUtil.Instance.play()},t}(Scene);window.StartScene=n,__reflect(n.prototype,"StartScene",[])}]);